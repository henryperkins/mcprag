:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

body {
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

/* ===== Design Tokens Layer ===== */
@layer tokens {
  :root {
    /* ANSI Color Palette - Preserved for compatibility */
    --ansi-0: #000000;  /* Black */
    --ansi-1: #cc0000;  /* Red */
    --ansi-2: #4e9a06;  /* Green */
    --ansi-3: #c4a000;  /* Yellow */
    --ansi-4: #3465a4;  /* Blue */
    --ansi-5: #75507b;  /* Magenta */
    --ansi-6: #06989a;  /* Cyan */
    --ansi-7: #d3d7cf;  /* White */
    --ansi-8: #555753;  /* Bright Black */
    --ansi-9: #ef2929;  /* Bright Red */
    --ansi-10: #8ae234; /* Bright Green */
    --ansi-11: #fce94f; /* Bright Yellow */
    --ansi-12: #729fcf; /* Bright Blue */
    --ansi-13: #ad7fa8; /* Bright Magenta */
    --ansi-14: #34e2e2; /* Bright Cyan */
    --ansi-15: #eeeeec; /* Bright White */
    
    /* Semantic Color Tokens - Map to ANSI for consistency */
    --color-primary: var(--ansi-12);        /* Blue */
    --color-success: var(--ansi-10);        /* Green */
    --color-warning: var(--ansi-11);        /* Yellow */
    --color-error: var(--ansi-9);           /* Red */
    --color-info: var(--ansi-14);           /* Cyan */
    --color-muted: var(--ansi-8);           /* Gray */
    
    /* Background Tokens */
    --bg-primary: #0a0e27;
    --bg-secondary: #1a1e3a;
    --bg-tertiary: #242845;
    --bg-elevated: #2a2e50;
    
    /* Text Tokens */
    --text-primary: var(--ansi-15);
    --text-secondary: var(--ansi-7);
    --text-muted: var(--ansi-8);
    --text-inverse: var(--ansi-0);
    
    /* Interactive Tokens */
    --interactive-default: var(--ansi-12);
    --interactive-hover: var(--ansi-14);
    --interactive-active: var(--ansi-10);
    --interactive-disabled: var(--ansi-8);
    
    /* Focus/Selection Tokens */
    --focus-ring: var(--ansi-12);
    --selection-bg: rgba(114, 159, 207, 0.3);
    --selection-border: var(--ansi-12);
    
    /* Spacing Tokens */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
    
    /* Typography Tokens */
    --font-mono: 'JetBrains Mono', 'Fira Code', 'Cascadia Code', 'Menlo', 'Monaco', 'Consolas', monospace;
    --font-sans: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    
    /* Border Radius Tokens */
    --radius-sm: 2px;
    --radius-md: 4px;
    --radius-lg: 8px;
    
    /* Elevation Tokens */
    --elevation-1: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
    --elevation-2: 0 3px 6px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.12);
    --elevation-3: 0 10px 20px rgba(0, 0, 0, 0.15), 0 3px 6px rgba(0, 0, 0, 0.10);
    
    /* Transition Tokens */
    --transition-fast: 150ms ease-in-out;
    --transition-normal: 250ms ease-in-out;
    --transition-slow: 350ms ease-in-out;
  }
  
  /* Light mode overrides */
  [data-theme="light"] {
    --bg-primary: #ffffff;
    --bg-secondary: #f5f5f5;
    --bg-tertiary: #ebebeb;
    --bg-elevated: #ffffff;
    
    --text-primary: var(--ansi-0);
    --text-secondary: var(--ansi-8);
    --text-muted: var(--ansi-8);
    --text-inverse: var(--ansi-15);
    
    --selection-bg: rgba(52, 101, 164, 0.2);
  }
}

/* ===== ANSI Color Classes (preserved) ===== */
.fg-ansi-0 { color: var(--ansi-0); }
.fg-ansi-1 { color: var(--ansi-1); }
.fg-ansi-2 { color: var(--ansi-2); }
.fg-ansi-3 { color: var(--ansi-3); }
.fg-ansi-4 { color: var(--ansi-4); }
.fg-ansi-5 { color: var(--ansi-5); }
.fg-ansi-6 { color: var(--ansi-6); }
.fg-ansi-7 { color: var(--ansi-7); }
.fg-ansi-8 { color: var(--ansi-8); }
.fg-ansi-9 { color: var(--ansi-9); }
.fg-ansi-10 { color: var(--ansi-10); }
.fg-ansi-11 { color: var(--ansi-11); }
.fg-ansi-12 { color: var(--ansi-12); }
.fg-ansi-13 { color: var(--ansi-13); }
.fg-ansi-14 { color: var(--ansi-14); }
.fg-ansi-15 { color: var(--ansi-15); }

.bg-ansi-0 { background-color: var(--ansi-0); }
.bg-ansi-1 { background-color: var(--ansi-1); }
.bg-ansi-2 { background-color: var(--ansi-2); }
.bg-ansi-3 { background-color: var(--ansi-3); }
.bg-ansi-4 { background-color: var(--ansi-4); }
.bg-ansi-5 { background-color: var(--ansi-5); }
.bg-ansi-6 { background-color: var(--ansi-6); }
.bg-ansi-7 { background-color: var(--ansi-7); }
.bg-ansi-8 { background-color: var(--ansi-8); }
.bg-ansi-9 { background-color: var(--ansi-9); }
.bg-ansi-10 { background-color: var(--ansi-10); }
.bg-ansi-11 { background-color: var(--ansi-11); }
.bg-ansi-12 { background-color: var(--ansi-12); }
.bg-ansi-13 { background-color: var(--ansi-13); }
.bg-ansi-14 { background-color: var(--ansi-14); }
.bg-ansi-15 { background-color: var(--ansi-15); }

/* ===== Semantic Color Classes ===== */
.text-primary { color: var(--text-primary); }
.text-secondary { color: var(--text-secondary); }
.text-muted { color: var(--text-muted); }
.text-success { color: var(--color-success); }
.text-warning { color: var(--color-warning); }
.text-error { color: var(--color-error); }
.text-info { color: var(--color-info); }

.bg-primary { background-color: var(--bg-primary); }
.bg-secondary { background-color: var(--bg-secondary); }
.bg-tertiary { background-color: var(--bg-tertiary); }
.bg-elevated { background-color: var(--bg-elevated); }

/* ===== Accessibility Utilities ===== */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.focus-visible:focus {
  outline: 2px solid var(--focus-ring);
  outline-offset: 2px;
}

/* ===== Component Styles ===== */
.terminal-load-more {
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  background: var(--bg-secondary);
  color: var(--text-secondary);
  border: 1px solid var(--bg-tertiary);
  border-radius: var(--radius-md);
  font-size: 0.875rem;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.terminal-load-more:hover {
  background: var(--bg-tertiary);
  color: var(--text-primary);
}

.file-tree-item {
  padding: var(--space-xs) var(--space-sm);
  cursor: pointer;
  transition: background var(--transition-fast);
  border-radius: var(--radius-sm);
}

.file-tree-item:hover {
  background: var(--bg-secondary);
}

.file-tree-item.selected {
  background: var(--selection-bg);
  border-left: 2px solid var(--selection-border);
}

.file-tree-item.focused {
  outline: 2px solid var(--focus-ring);
  outline-offset: -2px;
}

.slash-menu {
  background: var(--bg-elevated);
  border: 1px solid var(--bg-tertiary);
  border-radius: var(--radius-lg);
  box-shadow: var(--elevation-2);
  max-height: 400px;
  overflow-y: auto;
  padding: var(--space-xs);
}

.slash-menu-item {
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background var(--transition-fast);
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.slash-menu-item:hover,
.slash-menu-item.selected {
  background: var(--bg-secondary);
}

.slash-menu-item.selected {
  outline: 2px solid var(--focus-ring);
  outline-offset: -2px;
}

.offline-indicator {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  padding: var(--space-sm);
  background: var(--color-warning);
  color: var(--text-inverse);
  text-align: center;
  z-index: 100;
  font-size: 0.875rem;
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #f9f9f9;
  }
}
