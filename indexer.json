{
    "name": "codebase-mcp-sota-indexer",
    "description": "Code repository indexer for enhanced RAG system",
    "dataSourceName": "codebase-blob-datasource",
    "targetIndexName": "codebase-mcp-sota",
    "skillsetName": "codebase-enrichment-skillset",
    "schedule": {
      "interval": "PT1H",
      "startTime": "2025-01-07T00:00:00Z"
    },
    "parameters": {
      "batchSize": 50,
      "maxFailedItems": 10,
      "maxFailedItemsPerBatch": 5,
      "configuration": {
        "parsingMode": "default",
        "dataToExtract": "contentAndMetadata",
        "excludedFileNameExtensions": ".exe,.dll,.obj,.pdb,.class,.jar,.bin,.zip,.rar,.7z",
        "indexedFileNameExtensions":
  ".py,.js,.ts,.jsx,.tsx,.java,.cs,.cpp,.c,.h,.hpp,.go,.rs,.rb,.php,.swift,.kt,.scala,.r,.m,.mm,.sql,.sh,.bash,.ps1,.md,.json,.yaml,.yml,.xml,.toml,.ini,.cfg",
        "failOnUnprocessableDocument": false,
        "failOnUnsupportedContentType": false,
        "indexStorageMetadataOnlyForOversizedDocuments": true,
        "executionEnvironment": "standard"
      }
    },
    "fieldMappings": [
      {
        "sourceFieldName": "metadata_storage_path",
        "targetFieldName": "file_path",
        "mappingFunction": {
          "name": "base64Decode"
        }
      },
      {
        "sourceFieldName": "metadata_storage_name",
        "targetFieldName": "id",
        "mappingFunction": {
          "name": "base64Encode"
        }
      },
      {
        "sourceFieldName": "metadata_storage_last_modified",
        "targetFieldName": "last_modified"
      },
      {
        "sourceFieldName": "metadata_storage_size",
        "targetFieldName": "size_bytes"
      }
    ],
    "outputFieldMappings": [
      {
        "sourceFieldName": "/document/content",
        "targetFieldName": "content"
      },
      {
        "sourceFieldName": "/document/merged_content",
        "targetFieldName": "semantic_context"
      },
      {
        "sourceFieldName": "/document/languageCode",
        "targetFieldName": "language"
      },
      {
        "sourceFieldName": "/document/functions",
        "targetFieldName": "function_name"
      },
      {
        "sourceFieldName": "/document/classes",
        "targetFieldName": "class_name"
      },
      {
        "sourceFieldName": "/document/imports",
        "targetFieldName": "imports"
      },
      {
        "sourceFieldName": "/document/keyphrases",
        "targetFieldName": "tags"
      },
      {
        "sourceFieldName": "/document/content_vector",
        "targetFieldName": "content_vector"
      }
    ],
    "cache": {
      "storageConnectionString": "DefaultEndpointsProtocol=https;AccountName=yourcacheaccount;AccountKey=yourcachekey;EndpointSuffix=core.windows.net",
      "enableReprocessing": true
    },
    "disabled": false
  }