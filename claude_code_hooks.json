{
  "hooks": {
    "startup": [
      {
        "command": "/home/azureuser/mcprag/claude_auto_index.sh",
        "description": "Auto-index current working directory on Claude Code startup"
      }
    ],
    "post-file-change": [
      {
        "command": "python /home/azureuser/mcprag/smart_indexer.py --files {files}",
        "description": "Re-index changed files for search",
        "condition": "any([f.endswith(('.py', '.js', '.ts')) for f in {files}])"
      }
    ],
    "directory-change": [
      {
        "command": "/home/azureuser/mcprag/claude_auto_index.sh",
        "description": "Check and index new directory when changing workspaces"
      }
    ]
  },
  "mcp-servers": {
    "azure-code-search-auto": {
      "command": "python",
      "args": ["/home/azureuser/mcprag/index/mcp_auto_index.py"],
      "env": {
        "ACS_ENDPOINT": "${ACS_ENDPOINT}",
        "ACS_ADMIN_KEY": "${ACS_ADMIN_KEY}",
        "CLAUDE_CODE_WORKSPACE": "${PWD}"
      },
      "description": "Azure Code Search with auto-indexing"
    }
  }
}